<!DOCTYPE html>
<html>
<head>
  <title>POARTA Control</title>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js"></script>
</head>

<body>
  <h1>POARTA LED Dashboard</h1>

  <div>
    <input id="email" placeholder="Email"><br>
    <input id="password" placeholder="Password" type="password"><br>
    <button onclick="login()">Login</button>
  </div>

  <div id="control" style="display:none;">
    <button onclick="triggerPOARTA()">Open POARTA (5 sec)</button>
  </div>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyC6sUGpNFr4_-jJmZ6HBmQhitAvXsOTt1o",
  authDomain: "poarta-fd61a.firebaseapp.com",
  databaseURL: "https://poarta-fd61a-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "poarta-fd61a",
  storageBucket: "poarta-fd61a.firebasestorage.app",
  messagingSenderId: "703987909079",
  appId: "1:703987909079:web:4d88cca3698bfdfe3bcb92"
};
firebase.initializeApp(firebaseConfig);

function login() {
  firebase.auth().signInWithEmailAndPassword(
    document.getElementById("email").value,
    document.getElementById("password").value
  ).then(() => {
    document.getElementById("control").style.display = "block";
    alert("Login successful!");
  }).catch(err => alert(err));
}

function triggerPOARTA() {
  firebase.database().ref("commands/POARTA").set(1);
  alert("POARTA triggered");
}
</script>

</body>
</html>
